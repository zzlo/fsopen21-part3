{"version":3,"sources":["components/PersonForm.js","components/Persons.js","components/Filter.js","services/Numbers.js","components/Notification.js","App.js","index.js"],"names":["PersonForm","props","onSubmit","addContact","onChange","handleNameChange","value","newName","handleNumberChange","newNumber","type","Persons","persons","filter","handleClick","person","name","toLowerCase","includes","map","number","id","onClick","Filter","handleFilterChange","baseUrl","axios","get","then","response","data","personObject","post","put","delete","Notification","message","style","color","fontStyle","fontSize","padding","marginBottom","background","borderRadius","App","useState","setPersons","setNewName","setNewNumber","setFilter","setMessage","useEffect","numberService","initialNumbers","event","target","preventDefault","filterPerson","length","window","confirm","updatedNumber","catch","error","setTimeout","concat","find","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cd9d0941.chunk.js","sourcesContent":["import React from 'react'\n\nconst PersonForm = (props) => {\n    return (\n        <form onSubmit={props.addContact}>\n        <div>\n          name: <input onChange={props.handleNameChange} value={props.newName} />\n        </div>\n        <div>\n          number: <input onChange={props.handleNumberChange} value={props.newNumber}/>\n        </div>\n        <div><button type=\"submit\">add</button></div>\n      </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Persons = ({persons, filter, handleClick}) => {\n    return (\n      <div>\n        {persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase())).map(person => \n          <div key={person.name}>\n            {person.name} {person.number} <button value={person.id} onClick={handleClick}>delete</button>\n          </div>\n        )}\n      </div>\n    )\n}\n\nexport default Persons","import React from 'react'\n\nconst Filter = (props) => {\n    return (\n        <div>filter shown with <input onChange={props.handleFilterChange} value={props.filter}/></div>\n    )\n}\n\nexport default Filter","import axios from 'axios'\n\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\nconst create = (personObject) => {\n    return axios.post(baseUrl, personObject).then(response => response.data)\n}\n\nconst update = (id, personObject) => {\n    return axios.put(`${baseUrl}/${id}`, personObject).then(response => response.data)\n}\n\nconst deleteObject = (id) => {\n    return axios.delete(`${baseUrl}/${id}`).then(response => response.data)\n}\n\nexport default { getAll, create, update, deleteObject}","import React from 'react'\n\nconst Notification = ( {message} ) => {\n    const style = {\n        color: 'green',\n        fontStyle: 'helvetica',\n        fontSize: 16,\n        padding: 10,\n        marginBottom: 5,\n        background: 'lightgrey',\n        borderRadius: 5\n    }\n\n    if (message === null) {\n        return null\n    } else {\n        return (\n            <div style={style}>\n                {message}\n            </div>\n        )\n    }\n}\n\nexport default Notification","import React, { useEffect, useState } from 'react'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport numberService from './services/Numbers'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ message, setMessage ] = useState(null)\n\n  useEffect(() => {\n    numberService\n      .getAll()\n      .then(initialNumbers => {\n        setPersons(initialNumbers)\n      })\n  }, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleFilterChange = (event) => setFilter(event.target.value)\n\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n\n  const addContact = (event) => {\n    event.preventDefault()\n    let id = -1\n    const filterPerson = persons.filter(person => person.name === newName)\n\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    }\n\n    if (filterPerson.length === 1) {\n      id = filterPerson[0].id\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        numberService\n          .update(id, personObject)\n          .then(updatedNumber => {\n            setPersons(persons.map(person => person.id !== id ? person : updatedNumber))\n          })\n          .catch(error => {\n            setMessage(`Information of ${newName} has already been deleted from server`)\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n        \n        setMessage(`Updated ${newName}'s number`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      }\n    } else {\n      numberService\n        .create(personObject)\n        .then(person => setPersons(persons.concat(person)))\n      \n      setMessage(`Added ${newName}`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n      setNewName('')\n      setNewNumber('')\n\n    }\n  }\n\n  const deleteContact = (event) => {\n    event.preventDefault()\n\n    const id = event.target.value\n    const name = persons.find(person => person.id == id).name\n\n    if (window.confirm(`Delete ${name}`)) {\n      numberService\n        .deleteObject(id)\n\n      setPersons(persons.filter(person => person.id != id))\n      setMessage(`Deleted ${name}`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message}/>\n      <Filter handleFilterChange={handleFilterChange} filter={filter}/>\n      <h2>add a new</h2>\n      <PersonForm addContact={addContact} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} newName={newName} newNumber={newNumber}/>\n      <h2>Numbers</h2>\n      <Persons persons={persons} filter={filter} handleClick={deleteContact}/>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}